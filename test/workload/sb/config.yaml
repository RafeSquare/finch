mysql:
  dsn: "root@tcp(127.0.0.1:3306)/finch"

setup:
  disable: true
  trx:
    # Executed in order:
    - file: schema.sql
    - file: insert-rows.sql
      data:
        k:
          generator: "rand-int"
          scope: stage
          params:
            max: 65536
        c:
          generator: "str-not-null"
          scope: stage
          params:
            len: 119
        pad:
          generator: "str-not-null"
          scope: stage
          params:
            len: 60
    - file: secondary-index.sql

benchmark:
  runtime: 1m
  workload:
    - clients: 1
      trx: [read-only.sql]
  trx:
    - file: read-only.sql
      data:
        id:
          generator: "rand-int"
          scope: stage
          params:
            min: 1
            max: 1000000
            dist: normal
        id_100:
          generator: "int-range"
          params:
            max: 1000000
            range: 100
